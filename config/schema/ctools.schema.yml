ctools.relationship:
  type: mapping
  label: 'Relationship'
  mapping:
    id:
      type: string
      label: 'ID'
    label:
      type: label
      label: 'Label'

condition.plugin.entity_bundle:*:
  type: condition.plugin
  mapping:
    bundles:
      type: sequence
      sequence:
        type: string

ctools.block_plugin.*:
  type: block.settings.[id]
  mapping:
    region:
      type: string
      label: 'Region'
    weight:
      type: integer
      label: 'Weight'
    uuid:
      type: string
      label: 'UUID'
    context_mapping:
      type: sequence
      label: 'Context assignments'
      sequence:
        - type: string

ctools.block_display_variant:
  type: display_variant.plugin
  label: 'Block display variant'
  mapping:
    blocks:
      type: sequence
      label: 'Blocks'
      sequence:
        - type: ctools.block_plugin.[id]

# Base schema for display config entities.
ctools.display_base:
  type: config_entity
  mapping:
    id:
      type: string
      label: 'Machine-readable name'
    label:
      type: label
      label: 'Label'
    access_logic:
      type: string
      label: 'Access logic'
    access_conditions:
      type: sequence
      label: 'Access Conditions'
      sequence:
        - type: condition.plugin.[id]
          label: 'Access Condition'
    parameters:
      type: sequence
      label: Parameter context list
      sequence:
        - type: mapping
          label: Parameter context
          mapping:
            machine_name:
              type: string
              label: 'Machine-readable name'
            label:
              type: label
              label: 'Label of the context'
            type:
              type: string
              label: 'Context type'

# Schema for the display_variant config entity.
ctools.display_variant.*:
  type: config_entity
  label: 'Display variant configuration'
  mapping:
    id:
      type: string
      label: 'ID'
    label:
      type: label
      label: 'Label'
    weight:
      type: integer
      label: 'Weight'
    uuid:
      type: string
      label: 'UUID'
    variant:
      type: string
      label: 'Display variant'
    variant_settings:
      type: display_variant.plugin.[%parent.variant]
    display_entity_type:
      type: string
      label: 'Parent entity type'
    display_entity_id:
      type: string
      label: 'Parent entity id'
    selection_criteria:
      type: sequence
      label: 'Selection criteria'
      sequence:
        - type: condition.plugin.[id]
          label: 'Selection condition'
    selection_logic:
      type: string
      label: 'Selection logic'
    static_context:
      type: sequence
      label: Static context list
      sequence:
        - type: mapping
          label: 'Static context'
          mapping:
            label:
              type: label
              label: 'Label of the context'
            type:
              type: string
              label: 'Context type'
            value:
              type: string
              label: 'Context value'
